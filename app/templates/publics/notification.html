{% extends "base.html" %}
{% block content %}

<div class="notification-section">

  <h3>ðŸ”” Notifications</h3>

  <!-- Clear All Notifications Form -->
  {% if notifications %}
  <form method="POST" action="{{ url_for('students.clear_notifications') }}">
    <button class="btn btn-danger btn-sm mb-3">
      ðŸ—‘ Clear All Notifications
    </button>
  </form>
  {% endif %}

  <div class="notification-list">

    {% for n in notifications %}
    <div class="notification-card {% if not n.is_read %}unread{% endif %}">
      
      <div class="notification-left">
        <span class="dot"></span>
      </div>

      <div class="notification-content">
        <p class="notification-text">{{ n.message }}</p>

        <small class="notification-date">
          {{ n.created_at.strftime('%d %b %Y, %I:%M %p') }}
        </small>

        <!-- Delete Individual Notification -->
        <form method="POST"
              action="{{ url_for('students.delete_notification', id=n.id) }}"
              style="margin-top:6px;">
          <button class="btn btn-outline-danger btn-sm">
            âœ– Delete
          </button>
        </form>

      </div>

    </div>
    {% else %}
      <p class="empty-text">No notifications available.</p>
    {% endfor %}

  </div>

</div>

{% endblock %}
